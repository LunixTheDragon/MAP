/* --- APPLE MODERN AESTHETIC --- */

/*
   ŽIVÉ POZADÍ
   Používáme komplexní mesh gradient, který působí moderně a organicky.
   Vypadá to jako velmi rozmazané barevné světla.
*/
.root {
    -fx-background-color:
            radial-gradient(focus-angle 45deg, focus-distance 20%, center 25% 25%, radius 50%, rgba(120, 175, 250, 0.4), transparent),
            radial-gradient(focus-angle 135deg, focus-distance 20%, center 75% 75%, radius 50%, rgba(240, 150, 220, 0.4), transparent),
            linear-gradient(to bottom right, #e0eafc, #cfdef3);
}

/* Nastavení globálního fontu pro čistý vzhled */
.label, .button, .text-field, .password-field, .text-area {
    -fx-font-family: 'Segoe UI Semibold', 'Helvetica Neue', 'Roboto', sans-serif;
}

/* HLAVNÍ KONTEJNER */
.main-container {
    -fx-alignment: center;
}

/*
   ULTRA-MODERNÍ SKLENĚNÁ KARTA
   Klíčem je vysoká průhlednost, obrovské zaoblení rohů a velmi jemný, velký stín.
   Vypadá to, že karta levituje vysoko nad pozadím.
*/
.modern-card {
    -fx-background-color: rgba(255, 255, 255, 0.85); /* Mléčně bílá */
    -fx-background-radius: 30px; /* Extrémní zaoblení ala Apple */
    -fx-border-radius: 30px;
    /* Velmi jemný, rozptýlený stín pro hloubku */
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.1), 50, 0, 0, 15);
    -fx-padding: 40px;
}

/* NADPISY */
.header-label {
    -fx-font-size: 32px;
    -fx-font-weight: 900;
    -fx-text-fill: #1d1d1f; /* Téměř černá */
    -fx-alignment: center;
    -fx-padding: 0 0 20 0;
}

/* CHYBOVÉ HLÁŠKY */
.error-label {
    -fx-font-size: 13px;
    -fx-font-weight: bold;
    -fx-text-fill: #ff3b30; /* Apple červená */
    -fx-padding: 10px 0;
}

/*
   MODERNÍ VSTUPNÍ POLE
   Žádné okraje v klidovém stavu, jen šedé pozadí.
   Po kliknutí se rozsvítí modře.
*/
.input-field {
    -fx-font-size: 14px;
    -fx-padding: 15px 18px;
    -fx-background-radius: 14px;
    -fx-border-radius: 14px;
    -fx-background-color: #f5f5f7; /* Světle šedá */
    -fx-border-width: 2px;
    -fx-border-color: transparent;
    -fx-text-fill: #1d1d1f;
    -fx-prompt-text-fill: #86868b;
}
.input-field:focused {
    -fx-background-color: white;
    -fx-border-color: #007AFF; /* Apple modrá */
    /* Jemná modrá záře při fokusu */
    -fx-effect: dropshadow(three-pass-box, rgba(0, 122, 255, 0.25), 10, 0, 0, 0);
}

/* HLAVNÍ TLAČÍTKO (Apple Blue) */
.primary-btn {
    -fx-background-color: #007AFF;
    -fx-text-fill: white;
    -fx-font-size: 16px;
    -fx-font-weight: bold;
    -fx-padding: 15px;
    -fx-background-radius: 16px;
    -fx-cursor: hand;
    /* Stín v barvě tlačítka */
    -fx-effect: dropshadow(three-pass-box, rgba(0, 122, 255, 0.4), 20, 0, 0, 8);
}
.primary-btn:hover {
    -fx-background-color: #006ce6; /* Trochu tmavší při najetí */
    -fx-scale-x: 1.02; /* Jemné zvětšení - animace */
    -fx-scale-y: 1.02;
}
.primary-btn:pressed {
    -fx-scale-x: 0.98; /* Zmenšení při kliku */
    -fx-scale-y: 0.98;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 122, 255, 0.2), 10, 0, 0, 4);
}

/* ODKAZOVÉ TLAČÍTKO */
.link-btn {
    -fx-background-color: transparent;
    -fx-text-fill: #007AFF;
    -fx-cursor: hand;
    -fx-font-weight: bold;
    -fx-font-size: 13px;
}
.link-btn:hover {
    -fx-underline: true;
    -fx-text-fill: #006ce6;
}

/* --- SPECIFICKÉ PRO CHAT --- */

/* Panely v chatu budou více průhledné */
.glass-panel {
    -fx-background-color: rgba(255, 255, 255, 0.75);
    -fx-background-radius: 24px;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.08), 30, 0, 0, 10);
}

/* Samotné textové pole chatu */
.modern-chat-area {
    -fx-background-color: transparent;
    /* Vnitřek je jen lehce zabarvený */
    -fx-control-inner-background: rgba(245, 245, 247, 0.6);
    -fx-text-fill: #1d1d1f;
    -fx-font-size: 15px;
    -fx-background-radius: 18px;
    -fx-padding: 10px;
}
.modern-chat-area .content {
    -fx-background-color: transparent;
}
/* --- MODERNÍ HORNÍ LIŠTA --- */

/* Klikací oblast profilu */
.profile-area {
    -fx-cursor: hand;
    -fx-padding: 5px 15px 5px 5px;
    -fx-background-radius: 14px;
    -fx-transition: -fx-background-color 0.2s;
}
.profile-area:hover {
    -fx-background-color: rgba(0, 0, 0, 0.05);
}
.dark-mode .profile-area:hover {
    -fx-background-color: rgba(255, 255, 255, 0.08);
}

/* Moderní ikonková tlačítka */
.icon-btn {
    -fx-background-color: transparent;
    -fx-font-size: 14px;
    -fx-font-weight: bold;
    -fx-text-fill: #1d1d1f;
    -fx-cursor: hand;
    -fx-padding: 8px 12px;
    -fx-background-radius: 10px;
}
.icon-btn:hover {
    -fx-background-color: rgba(0, 0, 0, 0.06);
}
.dark-mode .icon-btn {
    -fx-text-fill: #e0e0e0;
}
.dark-mode .icon-btn:hover {
    -fx-background-color: rgba(255, 255, 255, 0.1);
}

/* Tlačítko odhlásit vždy trochu do červena */
.logout-btn {
    -fx-text-fill: #ff3b30;
}
.dark-mode .logout-btn {
    -fx-text-fill: #ff453a;
}
.logout-btn:hover {
    -fx-background-color: rgba(255, 59, 48, 0.1);
}

/* --- TMAVÝ REŽIM (DARK MODE) --- */
.dark-mode.root {
    -fx-background-color:
            radial-gradient(focus-angle 45deg, focus-distance 20%, center 25% 25%, radius 50%, rgba(40, 60, 100, 0.8), transparent),
            radial-gradient(focus-angle 135deg, focus-distance 20%, center 75% 75%, radius 50%, rgba(100, 40, 80, 0.8), transparent),
            linear-gradient(to bottom right, #1a1a2e, #16213e);
}

.dark-mode .modern-card, .dark-mode .glass-panel {
    -fx-background-color: rgba(30, 30, 40, 0.75);
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.4), 30, 0, 0, 10);
    -fx-border-color: rgba(255, 255, 255, 0.1);
}

/* Úprava textů ve tmavém režimu */
.dark-mode .header-label, .dark-mode .dynamic-text {
    -fx-text-fill: #e0e0e0;
}

/* Úprava textových polí a chatu ve tmavém režimu */
.dark-mode .input-field {
    -fx-background-color: rgba(50, 50, 60, 0.8);
    -fx-text-fill: #ffffff;
    -fx-prompt-text-fill: #888888;
}

.dark-mode .modern-chat-area {
    -fx-control-inner-background: rgba(40, 40, 50, 0.6);
    -fx-text-fill: #e0e0e0;
}

.dark-mode .apple-menu-bar {
    -fx-background-color: rgba(50, 50, 60, 0.5);
}
.dark-mode .apple-menu-bar .label {
    -fx-text-fill: #e0e0e0;
}

/* --- CHAT bubbles --- */

.modern-scroll-pane {
    -fx-background-color: transparent;
    -fx-control-inner-background: transparent;
}
.modern-scroll-pane .viewport {
    -fx-background-color: transparent;
}

/* shape of bubble */
.chat-bubble {
    -fx-padding: 10px 16px;
    -fx-font-size: 14px;
    -fx-max-width: 400px;
}

.bubble-me {
    -fx-background-color: #007AFF;
    -fx-text-fill: white;
    -fx-background-radius: 20px 20px 4px 20px;
}

.bubble-other {
    -fx-background-color: #e5e5ea;
    -fx-text-fill: #1d1d1f;
    -fx-background-radius: 20px 20px 20px 4px;
}
.dark-mode .bubble-other {
    -fx-background-color: #3a3a3c;
    -fx-text-fill: white;
}

.bubble-system {
    -fx-text-fill: #86868b;
    -fx-font-size: 12px;
    -fx-font-weight: bold;
    -fx-padding: 5px 0;
}